
最常用的一种设计模式了，

我们来看一看常用的使用方式

1. 类的初始化时创建对象
依赖JVM 类加载机制，保证单例只会被创建一次，即在类的初始化阶段就初始化，
这是线程安全的

<pre>
    <code>
        class Singleton{
            private static Singleton singleton = new Singleton();

            private Singleton(){}

            public static Singleton getInstance(){
                return singleton;
            }
        }
    </code>
</pre>

2. 按需加载

<pre>
    <code>
        class Singleton{
            private static Singleton singleton = null;

            private Singleton(){}

            public static Singleton getInstance(){
                if(singleton == null){
                   singleton = new Singleton();
                }
                return singleton;
            }
        }
    </code>
</pre>
但是这种方式线程不安全，如果有多个线程同时访问，会重复创建

3. 同步方法锁

<pre>
    <code>
        class Singleton{
            private static Singleton singleton = null;

            private Singleton(){}

            //添加锁
            public static synchronized Singleton getInstance(){
                if(singleton == null){
                   singleton = new Singleton();
                }
                return singleton;
            }

            public static Singleton getInstance1(){
                synchronized(Singleton.class){
                    if(singleton == null){
                       singleton = new Singleton();
                    }
                }
                return singleton;
            }
            //双重判断
            public static Singleton getInstance1(){
                if(singleton == null){
                    synchronized(Singleton.class){
                        if(singleton == null){
                           singleton = new Singleton();
                        }
                    }
                }
                return singleton;
            }
        }
    </code>
</pre>


4. 静态内部类

<pre>
    <code>
        class Singleton{

            private static class Single2 {
                private static Singleton singleton = new Singleton();
            }



            private Singleton(){}

            public static Singleton getInstance(){
                return Single2.singleton;
            }
        }
    </code>
</pre>



